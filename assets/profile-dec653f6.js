import{bK as b,bV as f,a5 as e,bW as x,bL as N,bX as S,b6 as v,bY as w,r as i,a3 as t,B as C,q as l,bZ as P,b_ as I,au as O,av as g,b$ as k}from"./index-b70051f6.js";const m=()=>{const{id:a}=N();if(!a)throw new Error("ID 无效");const{data:o}=S({userId:a,suspense:!0}),[u,y]=v(w),[r,n]=i.useState("operation"),[d,p]=i.useState(-1),[c,h]=i.useState(-1);return t("div",{className:"flex flex-col md:flex-row px-8 mt-8 max-w-[96rem] mx-auto",children:[t("div",{className:"md:w-2/3 order-2 md:order-1 mr-0 md:mr-8",children:[e("div",{className:"mb-4 flex flex-wrap",children:t(C,{className:"mr-2",children:[t(l,{icon:"document",active:r==="operation",onClick:()=>n("operation"),children:["作业",d===-1?"":` (${d})`]}),t(l,{icon:"folder-close",active:r==="operationSet",onClick:()=>n("operationSet"),children:["作业集",c===-1?"":` (${c})`]})]})}),t("div",{className:"tabular-nums",children:[r==="operation"&&e(P,{limit:10,orderBy:"id",uploaderId:u.userId==a?"me":a,onUpdate:({total:s})=>p(s)}),r==="operationSet"&&e(I,{creatorId:a,onUpdate:({total:s})=>h(s)})]})]}),e("div",{className:"md:w-1/3 order-1 md:order-2",children:e("div",{className:"sticky top-20",children:e(O,{className:"flex flex-col mb-4 space-y-2",children:e(g,{icon:"user",children:o==null?void 0:o.userName})})})}),e(k,{})]})};m.displayName="ProfilePage";const L=b(m,{errorFallback:({error:a})=>{if(a instanceof f)return e(x,{to:"/404",replace:!0})}});export{L as ProfilePage};
